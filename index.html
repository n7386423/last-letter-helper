<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Roblox Last Letter Helper</title>
<style>
  body { background: black; color: #39FF14; font-family: Consolas, monospace; }
  input, button, textarea { font-family: Consolas, monospace; }
  input { font-size: 18px; background: black; color: #39FF14; border: 1px solid #39FF14; }
  button { font-size: 16px; background: black; color: #39FF14; border: 1px solid #39FF14; cursor: pointer; }
  textarea { width: 600px; height: 500px; background: black; color: #39FF14; font-size: 16px; }
  .toggle-group { margin: 5px 0; }
  .trap-checkbox { margin: 0 5px; }
</style>
</head>
<body>

<h2>Roblox Last Letter Helper</h2>
<input id="prefixInput" type="text" placeholder="Type letters and press Enter" />
<button id="searchBtn">Search</button>

<div class="toggle-group">
  <label><input type="checkbox" id="xOnly"> X-ONLY</label>
  <label><input type="checkbox" id="superLong"> SUPER LONG</label>
</div>

<div class="toggle-group" id="trapToggles"></div>

<textarea id="output" readonly></textarea>

<script>
// ================= WORDS =================
// Load your words here (example, replace with full words list)
const WORDS = [
  "apple", "axe", "vying", "eazy", "ales", "eels", "ian", "zymurgy", "extra", "x"
];

// ================= TRAPS =================
const TRAPS = ["ae", "vy", "ez", "ying", "sz", "etam", "gly", "ses", "soss", "ian", "ales", "iny", "wers"];
const trapToggles = {}; // will hold checkbox states

// Create trap checkboxes
const trapContainer = document.getElementById("trapToggles");
TRAPS.forEach(trap => {
  const cb = document.createElement("input");
  cb.type = "checkbox";
  cb.id = trap;
  cb.checked = ["ae","vy","ez"].includes(trap);
  trapToggles[trap] = cb;
  const label = document.createElement("label");
  label.className = "trap-checkbox";
  label.appendChild(cb);
  label.appendChild(document.createTextNode(trap));
  trapContainer.appendChild(label);
});

// ================= SCORING =================
function scoreWord(word, superLong) {
  let score = 0;
  const w = word.toLowerCase();

  const xOnly = document.getElementById("xOnly").checked;
  if (xOnly && !w.endsWith("x")) return -1000;

  const length = w.length;
  if (!superLong && length > 12) return -1000;

  for (const trap of TRAPS) {
    if (trapToggles[trap].checked && w.endsWith(trap)) {
      if (["ae","vy","ez"].includes(trap)) score += 400;
      else score += 300;
      break;
    }
  }

  if (superLong) score += length*10;
  else {
    if (length>=4 && length<=9) score += 80;
    else if(length>12) score -= 40;
    score -= length*1.2;
  }

  return score;
}

// ================= SEARCH =================
function search() {
  const raw = document.getElementById("prefixInput").value.trim().toLowerCase();
  document.getElementById("prefixInput").value = ""; // auto-clear
  const output = document.getElementById("output");
  output.value = "";

  if (!raw) return;

  const superLong = document.getElementById("superLong").checked;
  const xOnly = document.getElementById("xOnly").checked;

  let seen = new Set();
  let foundAny = false;

  for (let i=raw.length; i>0; i--) {
    const prefix = raw.slice(-i);
    let matches = WORDS.filter(w => w.startsWith(prefix) && !seen.has(w));

    if (xOnly) matches = matches.filter(w=>w.endsWith("x"));
    if (!superLong) matches = matches.filter(w=>w.length<=12);

    if (matches.length>0) {
      foundAny = true;
      let ranked;
      if (superLong) ranked = matches.sort((a,b)=>b.length-a.length);
      else ranked = matches.sort((a,b)=>scoreWord(b,superLong)-scoreWord(a,superLong));

      const filteredRanked = ranked.filter(w=>scoreWord(w,superLong)>-500).slice(0,35);

      const modeInfo = [];
      if(xOnly) modeInfo.push("X-ONLY");
      if(superLong) modeInfo.push("SUPER LONG");

      output.value += `\nPrefix '${prefix}' [${modeInfo.join(" + ")}] â†’ ${matches.length} words\n`;
      filteredRanked.forEach(w=>{
        output.value += w + "\n";
        seen.add(w);
      });
    }
  }

  if(!foundAny) {
    output.value += "NO WORDS FOUND" + (xOnly?" (X-ONLY)":"") + "\n";
    if(xOnly) output.value += "Suggestions: Try disabling X-ONLY mode\n";
  }
}

// ================= EVENTS =================
document.getElementById("searchBtn").addEventListener("click", search);
document.getElementById("prefixInput").addEventListener("keydown", e=>{
  if(e.key === "Enter") search();
});
</script>
</body>
</html>
       
